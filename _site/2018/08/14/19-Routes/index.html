<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/rails/css/main.css">
    <title>Rails</title>
</head>
<body>
    <main>
        <header class="site-header">
            <h1 class="site-title"><a href="/rails/">Rails</a></h1>
            <nav class="site-nav">
                <a href="/rails/about/" class="">About</a>
            </nav>
        </header>
        <article class="post">
    <h2 class="post-header">19 Routes</h2>
    <p class="post-meta">2018-08-14</p>
    <p>El mòdul d’enrutament proporciona una reescriptura d’URL a Ruby nadiu. És una manera de redirigir les sol·licituds entrants als controladors i les accions. Substitueix les regles mod_rewrite. El millor de tot és que Routing ‘Routing funciona amb qualsevol servidor web. Les rutes es defineixen a l’aplicació <code class="highlighter-rouge">/config/routes.rb</code>.</p>

<p>Penseu a crear rutes com a dibuixar un mapa per a les vostres sol·licituds. El mapa els indica on anar basant-se en un patró predefinit.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">routes</span><span class="p">.</span><span class="nf">draw</span> <span class="k">do</span>
   <span class="no">Pattern</span> <span class="mi">1</span> <span class="n">tells</span> <span class="n">some</span> <span class="n">request</span> <span class="n">to</span> <span class="n">go</span> <span class="n">to</span> <span class="n">one</span> <span class="n">place</span>
   <span class="no">Pattern</span> <span class="mi">2</span> <span class="n">tell</span> <span class="n">them</span> <span class="n">to</span> <span class="n">go</span> <span class="n">to</span> <span class="n">another</span>
   <span class="o">...</span>
<span class="k">end</span>
</code></pre></div></div>

<h1 id="example">Example</h1>

<p>Considerem que la nostra aplicació de gestió de biblioteques conté un controlador anomenat <code class="highlighter-rouge">BookController</code>. Hem de definir les rutes per a aquelles accions que es defineixen com a mètodes de la classe <code class="highlighter-rouge">BookController</code>.</p>

<p>Obriu el fitxer <code class="highlighter-rouge">routes.rb</code> al directori library <code class="highlighter-rouge">/config/</code> i editeu-lo amb el següent contingut.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">routes</span><span class="p">.</span><span class="nf">draw</span> <span class="k">do</span>
   <span class="n">get</span> <span class="s1">'book/list'</span>
   <span class="n">get</span> <span class="s1">'book/new'</span>
   <span class="n">post</span> <span class="s1">'book/create'</span>
   <span class="n">patch</span> <span class="s1">'book/update'</span>
   <span class="n">get</span> <span class="s1">'book/list'</span>
   <span class="n">get</span> <span class="s1">'book/show'</span>
   <span class="n">get</span> <span class="s1">'book/edit'</span>
   <span class="n">get</span> <span class="s1">'book/delete'</span>
   <span class="n">get</span> <span class="s1">'book/update'</span>
   <span class="n">get</span> <span class="s1">'book/show_subjects'</span>
<span class="k">end</span>
</code></pre></div></div>

<p>El fitxer <code class="highlighter-rouge">routes.rb</code> defineix les accions disponibles a les aplicacions i el tipus d’acció, com ara obtenir, publicar i patxar.</p>

<p>Utilitzeu l’ordre següent per incloure totes les rutes definides, que són útils per fer el seguiment dels problemes d’enrutament a la vostra aplicació o donar-vos una bona visió general de les URL en una aplicació amb la qual intenteu familiaritzar-vos.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rake</span> <span class="n">routes</span>
</code></pre></div></div>

<p>Font: <a href="https://www.tutorialspoint.com/ruby-on-rails/rails-routes.htm">Routes</a></p>

    
</article>

    </main>
    
</body>
</html>
